{
	"info": {
		"_postman_id": "5e8f9e6c-4c1d-4e92-8508-d9c1d2b1a0d6",
		"name": "Visitor Management System API",
		"description": "Complete API collection for the Visitor Management System",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authentication",
			"description": "Authentication and user session management",
			"item": [
				{
					"name": "Get CSRF Token",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/auth/csrf",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"csrf"
							]
						},
						"description": "Get CSRF token for authentication"
					},
					"response": []
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData.token) {",
									"    pm.environment.set(\"authToken\", jsonData.token);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"csrfToken\": \"{{csrfToken}}\",\n    \"email\": \"admin@example.com\",\n    \"password\": \"Admin@123\",\n    \"callbackUrl\": \"{{baseUrl}}/dashboard\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/callback/credentials",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"callback",
								"credentials"
							]
						},
						"description": "Login with credentials"
					},
					"response": []
				},
				{
					"name": "Get Session",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/auth/session",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"session"
							]
						},
						"description": "Get current session information"
					},
					"response": []
				},
				{
					"name": "Auth Status",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/auth/status",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"status"
							]
						},
						"description": "Check authentication status"
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"csrfToken\": \"{{csrfToken}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/signout",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"signout"
							]
						},
						"description": "Sign out and end session"
					},
					"response": []
				}
			]
		},
		{
			"name": "Dashboard",
			"description": "Dashboard data endpoints",
			"item": [
				{
					"name": "Dashboard Summary",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/dashboard/summary",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"dashboard",
								"summary"
							]
						},
						"description": "Get dashboard summary statistics"
					},
					"response": []
				},
				{
					"name": "Recent Visits",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/dashboard/recent-visits?limit=5",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"dashboard",
								"recent-visits"
							],
							"query": [
								{
									"key": "limit",
									"value": "5"
								}
							]
						},
						"description": "Get recent visits for dashboard"
					},
					"response": []
				}
			]
		},
		{
			"name": "Visitors",
			"description": "Visitor management endpoints",
			"item": [
				{
					"name": "Get All Visitors",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/visitors?page=1&limit=10&search=",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"visitors"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "search",
									"value": ""
								}
							]
						},
						"description": "Get all visitors with pagination and search"
					},
					"response": []
				},
				{
					"name": "Get Visitor by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/visitors/{{visitorId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"visitors",
								"{{visitorId}}"
							]
						},
						"description": "Get specific visitor by ID"
					},
					"response": []
				},
				{
					"name": "Create Visitor",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData._id) {",
									"    pm.environment.set(\"visitorId\", jsonData._id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"aadhaarNumber\": \"123456789012\",\n    \"fullName\": \"John Doe\",\n    \"imageBase64\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8z8BQDwAEhQGAhKmMIQAAAABJRU5ErkJggg==\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/visitors",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"visitors"
							]
						},
						"description": "Create a new visitor"
					},
					"response": []
				},
				{
					"name": "Update Visitor",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"aadhaarNumber\": \"123456789012\",\n    \"fullName\": \"John Doe Updated\",\n    \"imageBase64\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8z8BQDwAEhQGAhKmMIQAAAABJRU5ErkJggg==\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/visitors/{{visitorId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"visitors",
								"{{visitorId}}"
							]
						},
						"description": "Update an existing visitor"
					},
					"response": []
				},
				{
					"name": "Delete Visitor",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/visitors/{{visitorId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"visitors",
								"{{visitorId}}"
							]
						},
						"description": "Delete a visitor"
					},
					"response": []
				}
			]
		},
		{
			"name": "Visits",
			"description": "Visit management endpoints",
			"item": [
				{
					"name": "Get All Visits",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/visits?page=1&limit=10&status=all",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"visits"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "status",
									"value": "all"
								}
							]
						},
						"description": "Get all visits with pagination and filters"
					},
					"response": []
				},
				{
					"name": "Get Visit by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/visits/{{visitId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"visits",
								"{{visitId}}"
							]
						},
						"description": "Get specific visit by ID"
					},
					"response": []
				},
				{
					"name": "Create Visit",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData._id) {",
									"    pm.environment.set(\"visitId\", jsonData._id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"visitorId\": \"{{visitorId}}\",\n    \"hostId\": \"{{hostId}}\",\n    \"departmentId\": \"{{departmentId}}\",\n    \"purposeOfVisit\": \"Business Meeting\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/visits",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"visits"
							]
						},
						"description": "Create a new visit request"
					},
					"response": []
				},
				{
					"name": "Update Visit Status",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"Approved\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/visits/{{visitId}}/status",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"visits",
								"{{visitId}}",
								"status"
							]
						},
						"description": "Update visit status (Pending, Approved, Rejected, CheckedIn, CheckedOut)"
					},
					"response": []
				},
				{
					"name": "Delete Visit",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/visits/{{visitId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"visits",
								"{{visitId}}"
							]
						},
						"description": "Delete a visit"
					},
					"response": []
				}
			]
		},
		{
			"name": "Hosts",
			"description": "Host user management endpoints",
			"item": [
				{
					"name": "Get All Hosts",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/hosts?page=1&limit=10&role=all",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"admin",
								"hosts"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "role",
									"value": "all"
								}
							]
						},
						"description": "Get all hosts with pagination and filters"
					},
					"response": []
				},
				{
					"name": "Get Host by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/hosts/{{hostId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"admin",
								"hosts",
								"{{hostId}}"
							]
						},
						"description": "Get specific host by ID"
					},
					"response": []
				},
				{
					"name": "Create Host",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData._id) {",
									"    pm.environment.set(\"hostId\", jsonData._id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"host@example.com\",\n    \"password\": \"Host@123\",\n    \"fullName\": \"Host User\",\n    \"departmentId\": \"{{departmentId}}\",\n    \"role\": \"Host\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/hosts",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"admin",
								"hosts"
							]
						},
						"description": "Create a new host user"
					},
					"response": []
				},
				{
					"name": "Update Host",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"host.updated@example.com\",\n    \"fullName\": \"Host User Updated\",\n    \"departmentId\": \"{{departmentId}}\",\n    \"role\": \"Host\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/hosts/{{hostId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"admin",
								"hosts",
								"{{hostId}}"
							]
						},
						"description": "Update an existing host"
					},
					"response": []
				},
				{
					"name": "Delete Host",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/hosts/{{hostId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"admin",
								"hosts",
								"{{hostId}}"
							]
						},
						"description": "Delete a host user"
					},
					"response": []
				}
			]
		},
		{
			"name": "Departments",
			"description": "Department management endpoints",
			"item": [
				{
					"name": "Get All Departments",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/departments?page=1&limit=10",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"admin",
								"departments"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								}
							]
						},
						"description": "Get all departments with pagination"
					},
					"response": []
				},
				{
					"name": "Get Department by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/departments/{{departmentId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"admin",
								"departments",
								"{{departmentId}}"
							]
						},
						"description": "Get specific department by ID"
					},
					"response": []
				},
				{
					"name": "Create Department",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData._id) {",
									"    pm.environment.set(\"departmentId\", jsonData._id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Engineering\",\n    \"description\": \"Engineering Department\",\n    \"floor\": \"2nd Floor\",\n    \"building\": \"Main Building\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/departments",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"admin",
								"departments"
							]
						},
						"description": "Create a new department"
					},
					"response": []
				},
				{
					"name": "Update Department",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Engineering Updated\",\n    \"description\": \"Engineering Department Updated\",\n    \"floor\": \"3rd Floor\",\n    \"building\": \"Main Building\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/departments/{{departmentId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"admin",
								"departments",
								"{{departmentId}}"
							]
						},
						"description": "Update an existing department"
					},
					"response": []
				},
				{
					"name": "Delete Department",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/departments/{{departmentId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"admin",
								"departments",
								"{{departmentId}}"
							]
						},
						"description": "Delete a department"
					},
					"response": []
				}
			]
		},
		{
			"name": "Analytics",
			"description": "Analytics and reporting endpoints",
			"item": [
				{
					"name": "Visit Analytics",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/analytics/visits?period=daily&days=30",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"analytics",
								"visits"
							],
							"query": [
								{
									"key": "period",
									"value": "daily"
								},
								{
									"key": "days",
									"value": "30"
								}
							]
						},
						"description": "Get visit analytics data"
					},
					"response": []
				},
				{
					"name": "Department Analytics",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/analytics/departments?period=month",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"analytics",
								"departments"
							],
							"query": [
								{
									"key": "period",
									"value": "month"
								}
							]
						},
						"description": "Get department-wise visit analytics"
					},
					"response": []
				}
			]
		},
		{
			"name": "System",
			"description": "System-level endpoints",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/health",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"health"
							]
						},
						"description": "Check system health status"
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:4000",
			"type": "string"
		}
	]
}